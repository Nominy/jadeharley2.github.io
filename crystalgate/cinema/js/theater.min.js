void 0===window.swfobject&&(window.swfobject=null),window.open=function(){return null};var theater={VERSION:"1.1.7",playerContainer:null,playerContent:null,hdPlayback:!1,player:null,volume:25,syncMaxDiff:5,getPlayerContainer:function(){return null===this.playerContainer&&(this.playerContainer=document.getElementById("player-container")||document.createElement("div")),this.playerContainer},getPlayerContent:function(){return null===this.playerContent&&(this.playerContent=document.getElementById("content")||document.createElement("div")),this.playerContent},resetPlayer:function(){this.player&&(this.player.onRemove(),delete this.player),this.getPlayerContainer().innerHTML="<div id='player'></div>"},enablePlayer:function(){this.getPlayerContainer().style.display="block",this.getPlayerContent().style.display="none"},disablePlayer:function(){this.getPlayerContainer().style.display="none",this.resetPlayer(),this.getPlayerContent().style.display="block"},getPlayer:function(){return this.player},loadVideo:function(t,e,i){if(null!==t&&null!==e){if(""===t){this.disablePlayer();return}i=Math.max(0,i);var l=this.getPlayer();if(null===l||l.getType()!=t){this.resetPlayer(),this.enablePlayer();var s=getPlayerByType(t);if(null!==s)this.player=new s;else{this.getPlayerContainer().innerText="Video type not yet implemented.";return}}this.player.setVolume(null!==this.volume?this.volume:25),this.player.setStartTime(i||0),this.player.setVideo(e)}},setVolume:function(t){this.volume=t,null!==this.player&&this.player.setVolume(t)},seek:function(t){var e=this.getPlayer();e&&e.seek(t)},enableHD:function(){this.hdPlayback=!0},isHDEnabled:function(){return this.hdPlayback},sync:function(t){if(null!==t&&null!==this.player){var e=this.player.getCurrentTime();null!==e&&Math.abs(t-e)>this.syncMaxDiff&&this.player.setStartTime(t)}},toggleControls:function(t){null!==this.player&&this.player.toggleControls(t)},enableCC:function(){this.closedCaptions=!0},isCCEnabled:function(){return this.closedCaptions}},players=[];function getPlayerByType(t){return players[t]}var DefaultVideo=function(){};function registerPlayer(t,e){e.prototype=new DefaultVideo,e.prototype.type=t,e.prototype.getType=function(){return this.type},players[t]=e}function onYouTubePlayerReady(t){var e=theater.getPlayer(),i=e&&e.getType();e&&("youtube"==i||"youtubelive"==i)&&e.onReady()}function livestreamPlayerCallback(t,e){if("ready"==t){var i=theater.getPlayer();i&&"livestream"==i.getType()&&i.onReady()}}DefaultVideo.prototype={player:null,lastVideoId:null,videoId:null,lastVolume:null,volume:.123,currentTime:0,getCurrentTime:function(){return null},lastStartTime:0,startTime:0,setVolume:function(t){},setStartTime:function(t){},seek:function(t){},onRemove:function(){},toggleControls:function(){}},function(){var t=function(){var t;this.setVideo=function(e){this.lastStartTime=null,this.lastVideoId=null,this.videoId=e,!t&&(t=new YT.Player("player",{height:"100%",width:"100%",videoId:e,playerVars:{autoplay:1,controls:0,iv_load_policy:3,cc_load_policy:theater.closedCaptions?1:0},events:{onReady:onYouTubePlayerReady}}))},this.setVolume=function(t){this.lastVolume=null,this.volume=t},this.setStartTime=function(t){this.lastStartTime=null,this.startTime=t},this.seek=function(t){null!==this.player&&(this.player.seekTo(t,!0),1!=this.player.getPlayerState()&&this.player.playVideo())},this.onRemove=function(){clearInterval(this.interval)},this.getCurrentTime=function(){if(null!==this.player)return this.player.getCurrentTime()},this.canChangeTime=function(){if(null!==this.player)return -1!=this.player.getVideoBytesTotal()&&3!=this.player.getPlayerState()},this.think=function(){null!==this.player&&(this.videoId!=this.lastVideoId&&(this.player.loadVideoById(this.videoId,this.startTime),this.lastVideoId=this.videoId,this.lastStartTime=this.startTime),-1!=this.player.getPlayerState()&&(this.startTime!=this.lastStartTime&&(this.seek(this.startTime),this.lastStartTime=this.startTime),this.volume!=this.lastVolume&&(this.player.setVolume(this.volume),this.lastVolume=this.volume)))},this.onReady=function(){this.player=t,theater.isHDEnabled()&&this.player.setPlaybackQuality("hd720"),this.interval=setInterval(this.think.bind(this),100)}};registerPlayer("youtube",t),registerPlayer("youtubelive",t),registerPlayer("vimeo",function(){var t=this;this.froogaloop=null,this.setVideo=function(t){this.videoId=t;var e=document.getElementById("player1");e&&($f(e).removeEvent("ready"),this.froogaloop=null,e.parentNode.removeChild(e));var i=document.createElement("iframe");i.setAttribute("id","player1"),i.setAttribute("src","http://player.vimeo.com/video/"+t+"?api=1&player_id=player1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("frameborder","0"),document.getElementById("player").appendChild(i),$f(i).addEvent("ready",this.onReady)},this.setVolume=function(t){this.lastVolume=null,this.volume=t/100},this.setStartTime=function(t){this.lastStartTime=null,this.startTime=Math.max(1,t)},this.seek=function(t){null!==this.froogaloop&&t>1&&this.froogaloop.api("seekTo",t)},this.onRemove=function(){this.froogaloop=null,clearInterval(this.interval)},this.think=function(){null!==this.froogaloop&&(this.volume!=this.lastVolume&&(this.froogaloop.api("setVolume",this.volume),this.lastVolume=this.volume),this.startTime!=this.lastStartTime&&(this.seek(this.startTime),this.lastStartTime=this.startTime),this.froogaloop.api("getVolume",function(e){t.volume=parseFloat(e)}),this.froogaloop.api("getCurrentTime",function(e){t.currentTime=parseFloat(e)}))},this.onReady=function(e){t.lastStartTime=null,t.froogaloop=$f(e),t.froogaloop.api("play"),t.interval=setInterval(function(){t.think(t)},100)}}),registerPlayer("twitch",function(){var t=this;this.videoInfo={},this.embed=function(){if(this.videoInfo.channel&&this.videoInfo.archive_id){var t={hostname:"www.twitch.tv",channel:this.videoInfo.channel,auto_play:!0,start_volume:this.videoInfo.volume||theater.volume,initial_time:this.videoInfo.initial_time||0},e=this.videoInfo.archive_id.slice(1),i=this.videoInfo.archive_id.substr(0,1);t.videoId=i+e,"c"==i?t.chapter_id=e:t.archive_id=e;var l="http://www.twitch.tv/swflibs/TwitchPlayer.swf";swfobject.embedSWF(l,"player","100%","104%","9.0.0",!1,t,{allowFullScreen:"true",allowNetworking:"all",allowScriptAccess:"always",movie:l,wmode:"opaque",bgcolor:"#000000"})}},this.setVideo=function(e){this.lastVideoId=null,this.videoId=e;var i=e.split(",");if(this.videoInfo.channel=i[0],this.videoInfo.archive_id=i[1],null===this.player){this.lastVideoId=this.videoId,this.embed();var l=0,s=setInterval(function(){document.getElementById("player").mute&&(clearInterval(s),t.onReady()),++l>100&&(console.log("Error waiting for player to load"),clearInterval(s))},33)}},this.setVolume=function(t){this.lastVolume=null,this.volume=t,this.videoInfo.volume=t},this.setStartTime=function(t){this.lastStartTime=null,this.startTime=t,this.videoInfo.initial_time=t},this.seek=function(t){this.setStartTime(t)},this.onRemove=function(){clearInterval(this.interval)},this.think=function(){this.player&&(this.videoId!=this.lastVideoId&&(this.embed(),this.lastVideoId=this.videoId),this.startTime!=this.lastStartTime&&(this.embed(),this.lastStartTime=this.startTime),this.volume!=this.lastVolume&&(this.lastVolume=this.volume))},this.onReady=function(){this.player=document.getElementById("player"),this.interval=setInterval(function(){t.think(t)},100)},this.toggleControls=function(t){this.player.height=t?"100%":"104%"}}),registerPlayer("twitchstream",function(){var t=this;this.embed=function(){var t={hostname:"www.twitch.tv",hide_chat:!0,channel:this.videoId,embed:0,auto_play:!0,start_volume:25},e="http://www.twitch.tv/swflibs/TwitchPlayer.swf";swfobject.embedSWF(e,"player","100%","104%","9.0.0",!1,t,{allowFullScreen:"true",allowNetworking:"all",allowScriptAccess:"always",movie:e,wmode:"opaque",bgcolor:"#000000"})},this.setVideo=function(e){if(this.lastVideoId=null,this.videoId=e,null===this.player){this.lastVideoId=this.videoId,this.embed();var i=0,l=setInterval(function(){document.getElementById("player").mute&&(clearInterval(l),t.onReady()),++i>100&&(console.log("Error waiting for player to load"),clearInterval(l))},33)}},this.setVolume=function(t){this.lastVolume=null,this.volume=t},this.onRemove=function(){clearInterval(this.interval)},this.think=function(){this.player&&(this.videoId!=this.lastVideoId&&(this.embed(),this.lastVideoId=this.videoId),this.volume!=this.lastVolume&&(this.lastVolume=this.volume))},this.onReady=function(){this.player=document.getElementById("player"),this.interval=setInterval(function(){t.think(t)},100)},this.toggleControls=function(t){this.player.height=t?"100%":"104%"}}),registerPlayer("blip",function(){var t=this;this.lastState=null,this.state=null,swfobject.embedSWF("http://blip.tv/scripts/flash/stratos.swf","player","100%","100%","9.0.0",!1,{autostart:!0,noads:!0,showinfo:!1,onsite:!0,nopostroll:!0,noendcap:!0,showsharebutton:!1,removebrandlink:!0,skin:"BlipClassic",backcolor:"0x000000",floatcontrols:!0,fixedcontrols:!0,largeplaybutton:!1,controlsalpha:".0",autohideidle:1e3,file:"http://blip.tv/rss/flash/123123123123"},{allowFullScreen:"true",allowNetworking:"all",allowScriptAccess:"always",wmode:"opaque",bgcolor:"#000000"}),this.setVideo=function(e){if(this.lastVideoId=null,this.videoId=e,null===this.player)var i=0,l=setInterval(function(){document.getElementById("player").addJScallback&&(clearInterval(l),t.onReady()),++i>100&&(console.log("Error waiting for player to load"),clearInterval(l))},33);else this.player.sendEvent("pause")},this.setVolume=function(t){this.lastVolume=null,this.volume=t/100},this.setStartTime=function(t){this.lastStartTime=null,this.startTime=t},this.seek=function(t){null!==this.player&&this.player.sendEvent("seek",t)},this.onRemove=function(){clearInterval(this.interval)},this.think=function(){null!==this.player&&(this.videoId!=this.lastVideoId&&(this.player.sendEvent("newFeed","http://blip.tv/rss/flash/"+this.videoId),this.lastVideoId=this.videoId,this.lastVolume=null,this.lastStartTime=null),"playing"==this.player.getCurrentState()&&(this.startTime!=this.lastStartTime&&(this.seek(this.startTime),this.lastStartTime=this.startTime),this.volume!=this.lastVolume&&(this.player.sendEvent("volume",this.volume),this.lastVolume=this.volume)))},this.onReady=function(){this.player=document.getElementById("player"),this.interval=setInterval(function(){t.think(t)},100)}}),registerPlayer("url",function(){var t=this;this.embed=function(){var t=document.getElementById("player1");t&&t.parentNode.removeChild(t);var e=document.createElement("iframe");e.setAttribute("id","player1"),e.setAttribute("src",this.videoId),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("frameborder","0"),document.getElementById("player").appendChild(e)},this.setVideo=function(e){if(this.lastVideoId=null,this.videoId=e,null===this.player){this.lastVideoId=this.videoId,this.embed();var i=0,l=setInterval(function(){document.getElementById("player")&&(clearInterval(l),t.onReady()),++i>100&&(console.log("Error waiting for player to load"),clearInterval(l))},33)}},this.onRemove=function(){clearInterval(this.interval)},this.think=function(){this.player&&this.videoId!=this.lastVideoId&&(this.embed(),this.lastVideoId=this.videoId)},this.onReady=function(){this.player=document.getElementById("player"),this.interval=setInterval(function(){t.think(t)},100)}}),registerPlayer("livestream",function(){var t="http://cdn.livestream.com/chromelessPlayer/wrappers/JSPlayer.swf";swfobject.embedSWF(t,"player","100%","100%","9.0.0","expressInstall.swf",{},{allowNetworking:"all",allowScriptAccess:"always",movie:t,wmode:"opaque",bgcolor:"#000000"}),this.setVideo=function(t){this.lastVideoId=null,this.videoId=t},this.setVolume=function(t){this.lastVolume=null,this.volume=t/100},this.onRemove=function(){clearInterval(this.interval)},this.think=function(){null!==this.player&&(this.videoId!=this.lastVideoId&&(this.player.load(this.videoId),this.player.startPlayback(),this.lastVideoId=this.videoId),this.volume!=this.lastVolume&&(this.player.setVolume(this.volume),this.lastVolume=this.volume))},this.onReady=function(){this.player=document.getElementById("player");var t=this;this.interval=setInterval(function(){t.think(t)},100),this.player.setVolume(this.volume)}}),registerPlayer("html",function(){this.embed=function(){var t=document.getElementById("player1");t&&t.parentNode.removeChild(t);var e=document.createElement("div");e.setAttribute("id","player1"),e.style.width="100%",e.style.height="100%",e.innerHTML=this.videoId,document.getElementById("player").appendChild(e)},this.setVideo=function(t){this.lastVideoId=null,this.videoId=t,this.embed()}}),registerPlayer("viooz",function(){var t=document.getElementById("flashstream"),e=t&&t.children[4];document.getElementById(t.parentNode.id).style.display="initial",e&&(document.getElementById("rhw_footer").style.display="none",document.body.style.setProperty("overflow","hidden"),e.style.setProperty("z-index","99999"),e.style.setProperty("position","fixed"),e.style.setProperty("top","0"),e.style.setProperty("left","0"),e.width="100%",e.height="105%",this.player=e),this.setVideo=function(t){this.lastStartTime=null},this.setVolume=function(t){this.lastVolume=t,null!==this.player&&this.player.jwSetVolume(t)},this.setStartTime=function(t){this.seek(t)},this.seek=function(t){if(null!==this.player){this.player.jwSetVolume(this.lastVolume);var e=this.player.jwGetState();("BUFFERING"!==e||this.getBufferedTime()>t)&&this.player.jwSeek(t),"IDLE"===e&&this.player.jwPlay()}},this.getCurrentTime=function(){if(null!==this.player)return this.player.jwGetPosition()},this.getBufferedTime=function(){return this.player.jwGetDuration()*this.player.jwGetBuffer()},this.toggleControls=function(t){this.player.height=t?"100%":"105%"}}),registerPlayer("vk",function(){this.player=null,this.lastVideoId=null,this.videoId=null,this.volume=.25,this.startTime=0,this.embed=function(){var t=document.getElementById("player1");t&&t.parentNode.removeChild(t);var e=new URL("https://vk.com/video_ext.php"),[i,l]=this.videoId.split("_");e.searchParams.set("oid",i),e.searchParams.set("id",l),e.searchParams.set("js_api","1"),e.searchParams.set("autoplay","1");var s=document.createElement("iframe");s.id="player1",s.src=e.toString(),s.width="100%",s.height="100%",s.allow="autoplay; fullscreen",s.allowFullscreen="",this.iframe=s,document.getElementById("player").appendChild(s),this.player=VK.VideoPlayer(s)},this.setVideo=function(t){t!==this.lastVideoId&&(this.lastVideoId=this.videoId,this.videoId=t,this.player?this.player.loadVideoById(this.videoId,this.startTime):this.embed())},this.setVolume=function(t){this.volume=t/100,this.player&&this.player.setVolume(this.volume)},this.setStartTime=function(t){this.startTime=t,this.player&&this.player.seekTo(t)},this.seek=function(t){this.player&&this.player.seek(t)},this.getCurrentTime=function(){return this.player?this.player.getCurrentTime():null},this.onRemove=function(){window.removeEventListener("message",this.onMessage.bind(this)),this.player=null},this.toggleControls=function(t){this.player.height=t?"100%":"105%"}})}(),window.onTheaterReady&&onTheaterReady(),console.log("Loaded theater.js v"+theater.VERSION);